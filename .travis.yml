sudo: required
dist: xenial
language: cpp
cache:
  ccache: true
git:
  depth: 1
addons:
  apt:
    packages:
      - cmake
      - libboost-filesystem-dev
      - libboost-iostreams-dev
      - libboost-thread-dev
      - libboost-chrono-dev
      - libeigen3-dev
      - libgtest-dev
      - doxygen-latex
      - dvipng
      - libusb-1.0-0-dev
      - libqhull-dev
      - libvtk6-dev
      - libvtk6-qt-dev
      - libflann-dev
      - doxygen
      - qtbase5-dev
      - libqt5opengl5-dev
      - libglew-dev
      - libopenni-dev
      - python3-pip
      - libproj-dev #missing dependency from vtk?
before_install:
  - openssl aes-256-cbc -K $encrypted_275e3339731d_key -iv $encrypted_275e3339731d_iv
    -in .travis.key.enc -out .travis.key -d
  - bash .travis.sh before-install

jobs:
  include:
    - name: "Documentation"
      compiler: gcc
      env: TASK="doc"
      script: bash .travis.sh $TASK
    - name: "Library, Examples, Tools, Apps"
      compiler: clang
      env: TASK="build"
      script: bash .travis.sh $TASK
    - name: "Unit Tests"
      compiler: gcc
      env: TASK="test"
      script: bash .travis.sh $TASK

notifications:
  email: false
